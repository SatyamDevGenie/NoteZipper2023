@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========== Theme: Light (default) ========== */
:root,
[data-theme="light"] {
  --bg-primary: #f9fafb;
  --bg-secondary: #ffffff;
  --bg-tertiary: #f3f4f6;
  --text-primary: #111827;
  --text-secondary: #6b7280;
  --border-color: #e5e7eb;
  --header-bg: rgba(255, 255, 255, 0.95);
  --card-bg: #ffffff;
  --input-bg: #f9fafb;
  --scrollbar-track: #f3f4f6;
  --scrollbar-thumb: #d1d5db;
  --scrollbar-thumb-hover: #9ca3af;
}

/* ========== Theme: Dark ========== */
[data-theme="dark"] {
  --bg-primary: #0f172a;
  --bg-secondary: #1e293b;
  --bg-tertiary: #334155;
  --text-primary: #f1f5f9;
  --text-secondary: #94a3b8;
  --border-color: #334155;
  --header-bg: rgba(15, 23, 42, 0.95);
  --card-bg: #1e293b;
  --input-bg: #334155;
  --scrollbar-track: #1e293b;
  --scrollbar-thumb: #475569;
  --scrollbar-thumb-hover: #64748b;
}

/* ========== Theme: Classic (warm paper) ========== */
[data-theme="classic"] {
  --bg-primary: #faf8f5;
  --bg-secondary: #f5f0e8;
  --bg-tertiary: #ebe5dc;
  --text-primary: #3d3630;
  --text-secondary: #6b635b;
  --border-color: #d4cdc4;
  --header-bg: rgba(250, 248, 245, 0.95);
  --card-bg: #f5f0e8;
  --input-bg: #faf8f5;
  --scrollbar-track: #ebe5dc;
  --scrollbar-thumb: #d4cdc4;
  --scrollbar-thumb-hover: #b8afa3;
}

/* Theme-aware utility classes */
.bg-theme {
  background-color: var(--bg-primary);
}
.bg-theme-card {
  background-color: var(--card-bg);
}
.bg-theme-input {
  background-color: var(--input-bg);
}
.bg-theme-tertiary {
  background-color: var(--bg-tertiary);
}
.text-theme {
  color: var(--text-primary);
}
.text-theme-muted {
  color: var(--text-secondary);
}
.border-theme {
  border-color: var(--border-color);
}
.bg-theme-header {
  background-color: var(--header-bg);
}

/* Custom utilities */
@layer utilities {
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .animation-delay-2000 {
    animation-delay: 2s;
  }
  
  .animation-delay-4000 {
    animation-delay: 4s;
  }

  /* Safe area for mobile devices */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Custom components */
@layer components {
  .btn-primary {
    @apply bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-sm sm:text-base;
  }
  
  .btn-secondary {
    @apply bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 text-sm sm:text-base;
  }
  
  .input-field {
    @apply w-full px-3 py-2 sm:px-4 sm:py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 text-sm sm:text-base;
  }
  
  .card {
    @apply bg-white rounded-lg sm:rounded-xl shadow-md border border-gray-100 p-4 sm:p-6;
  }
  
  .card-hover {
    @apply hover:shadow-lg hover:-translate-y-1 transition-all duration-200;
  }

  /* Responsive text sizes */
  .text-responsive-xs {
    @apply text-xs sm:text-sm;
  }
  
  .text-responsive-sm {
    @apply text-sm sm:text-base;
  }
  
  .text-responsive-base {
    @apply text-base sm:text-lg;
  }
  
  .text-responsive-lg {
    @apply text-lg sm:text-xl;
  }
  
  .text-responsive-xl {
    @apply text-xl sm:text-2xl;
  }
  
  .text-responsive-2xl {
    @apply text-2xl sm:text-3xl;
  }
  
  .text-responsive-3xl {
    @apply text-3xl sm:text-4xl lg:text-5xl;
  }
}

/* Base styles */
@layer base {
  html {
    @apply scroll-smooth;
  }
  
  body {
    font-family: inherit;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    transition: background-color 0.2s ease, color 0.2s ease;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold;
  }
  
  /* Scrollbar styles (theme-aware) */
  ::-webkit-scrollbar {
    width: 6px;
  }
  
  ::-webkit-scrollbar-track {
    background-color: var(--scrollbar-track);
  }
  
  ::-webkit-scrollbar-thumb {
    background-color: var(--scrollbar-thumb);
    border-radius: 9999px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background-color: var(--scrollbar-thumb-hover);
  }

  /* Mobile touch improvements */
  button, input, textarea, select {
    @apply touch-manipulation;
  }
  
  /* Prevent zoom on input focus on iOS */
  @media screen and (max-width: 768px) {
    input, textarea, select {
      font-size: 16px !important;
    }
  }
}
